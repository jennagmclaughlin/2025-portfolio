@import "tailwindcss";

@theme {
  --color-background: hsl(var(--background));
  --color-background-color: var(--background-color);
  --color-main: hsl(var(--main));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-card: hsl(var(--card));

  --animate-float: float 6s ease-in-out infinite;
  --animate-pulse: pulse 4s ease-in-out infinite;
  --animate-fade-in: fade-in 0.7s ease-out forwards;
  --animate-fade-in-delay-1: fade-in 0.7s ease-out 0.2s forwards;
  --animate-fade-in-delay-2: fade-in 0.7s ease-out 0.4s forwards;
  --animate-fade-in-delay-3: fade-in 0.7s ease-out 0.6s forwards;
  --animate-fade-in-delay-4: fade-in 0.7s ease-out 0.8s forwards;
  --animate-meteor: meteor 6s linear infinite;
  --animate-meteorShine: meteorShine 6s linear infinite;

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  @keyframes pulse {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.2;
    }
  }
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0px);
    }
  }
  @keyframes meteor {
    0% {
      opacity: 0;
      transform: translate(-600px, -600px) rotate(-135deg);
    }
    50% {
      opacity: 0.6;
    }
    60% {
      opacity: 0.6;
    }
    75% {
      transform: translate(150px, 150px) rotate(-135deg);
      opacity: 0;
    }
    100% {
      transform: translate(250px, 250px) rotate(-135deg);
      opacity: 0;
    }
  }
  @keyframes meteorShine {
    0% {
      color: rgba(255, 255, 255, 0.75);
      transform: rotate(0deg) scale(0.8);
    }
    50% {
      color: rgba(255, 255, 255, 1);
      transform: rotate(540deg) scale(1.2); /* ~2.4 rotations */
    }
    60% {
      color: rgba(255, 255, 255, 1);
      transform: rotate(630deg) scale(1.2); /* ~3.6 rotations */
    }
    100% {
      color: rgba(255, 255, 255, 0.75);
      transform: rotate(1260deg) scale(0.8); /* ~4.8 rotations */
    }
  }
}

@layer base {
  /* dark mode, which is default */
  :root {
    --background: radial-gradient(ellipse at top, #080e21 0%, #1b2735 95%) fixed;
    --background-color: #14151b;
    --main: 248 11% 11%;
    --foreground: 213 31% 91%;

    --card: 222 47% 8%;

    --primary: 205 46% 58%;
    --primary-foreground: 213 31% 91%;

    --border: 217 33% 20%;
  }
  /* light mode */
  .light {
    --background: 210 40% 90%;
    --background-color: 210 40% 90%;
    --main: 248 11% 95%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;

    --primary: 205 65% 25%;
    --primary-foreground: 210 40% 98%;

    --border: 214 32% 91%;
    .star,
    .meteor {
      display: none !important;
    }
  }
  html {
    @apply scroll-smooth;
  }
  body {
    @apply text-foreground transition-colors duration-300;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: "Montserrat", Helvetica, Arial, sans-serif;
  }
}

@utility container {
  @apply w-full p-3;
  margin-inline: auto;
  padding-inline: 2rem;
  max-width: 1080px;
  @media (min-width: 1536px) {
    max-width: 1400px;
  }
}

@utility font-accent {
  font-family: "Open Sans", Helvetica, Arial, sans-serif;
  font-weight: 800;
}

@utility text-glow {
  @apply relative;
  text-shadow: 0 0 10px rgba(98, 156, 196, 0.5);
}

@utility box-glow {
  @apply relative;
  box-shadow: 0 0 10px rgba(98, 156, 196, 0.5);
}

@utility card-hover {
  @apply transition-transform duration-300 hover:scale-[1.025] hover:shadow-lg;
}

@utility cosmic-button {
  @apply px-6 py-2 rounded-full bg-primary text-primary-foreground font-medium transition-all duration-300 hover:shadow-[0_0_10px_rgba(139,92,246,0.5)] hover:scale-105 active:scale-95;
}

@utility star {
  @apply absolute rounded-full bg-white;
  box-shadow: 0 0 20px 1px rgba(255, 255, 255, 0.4);
}

@utility meteor {
  @apply absolute rounded-full w-[300px] h-[1px] bg-gradient-to-r from-white to-transparent;
  opacity: 0;
}

@utility meteorShine {
  @apply absolute rounded-full;
  font-size: 30px;
  margin-top: -14px;
  margin-left: -10px;
  transform: rotate(20deg) scale(0.8);
  color: rgba(255, 255, 255, 0.75);
  animation-iteration-count: 1;
  animation-fill-mode: forwards;
}

@utility ctaButton {
  box-sizing: border-box;
  @apply border-1 border-transparent flex items-center justify-center px-4 py-2 relative overflow-hidden rounded-full transition-all duration-150 hover:border-main hover:box-glow focus:box-glow focus:scale-105;
  &::before {
    content: "";
    position: absolute;
    top: -50%;
    left: -100%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      0deg,
      transparent,
      transparent 30%,
      rgba(98, 156, 196, 0.5)
    );
    transform: rotate(-45deg);
    transition: all 0.5s ease;
    opacity: 0;
  }
  &:hover::before {
    opacity: 1;
    transform: rotate(-45deg) translateY(220%);
  }
}

@utility circle-img {
  @apply rounded-full relative;
}

@utility tooltip-container {
  @apply relative;
}

@utility tooltip {
  --tooltip-bg: hsl(248 11% 11%);
  @apply px-2 py-1 absolute text-[1rem] text-center text-[#eee] rounded-sm z-10 transition-all;
  background-color: var(--tooltip-bg);
  width: 100%;
  bottom: calc(100% - 100px);
  left: 0;
  right: 0;
  &::after {
    content: "";
    width: 0;
    height: 0;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-bottom: 5px solid var(--tooltip-bg);
    position: absolute;
    top: -5px;
    left: calc(50% - 5px);
  }
  @media (max-width: 1535px) {
    bottom: calc(100% - 15px);
    &::after {
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
      border-top: 5px solid var(--tooltip-bg);
      border-bottom: 0px;
      top: auto;
      bottom: -5px;
    }
  }
}

#root {
  max-width: 100%;
  margin: 0 auto;
  padding: 0;
  text-align: center;
}

nav::before {
  @apply w-full h-full absolute top-0 left-0 bg-main/10 md:rounded-b-full;
  content: "";
  z-index: -1;
}

nav a,
nav button {
  text-shadow: 0 0 5px hsl(var(--main));
}

nav svg {
  filter: drop-shadow(0px 0px 5px hsl(var(--main)));
}

p {
  @apply my-3;
}

.skills-list {
  li {
    width: 105px;
  }
  svg {
    margin: auto;
  }
}

.timelineContainer {
  @apply relative;
  height: fit-content;
  display: flex;
  flex-direction: column-reverse;
}

.timelineContainer li {
  @apply relative flex py-[24px] md:py-[16px];
  justify-content: flex-end;
  .timeline-icon {
    @apply absolute -left-[24px] top-[36px] md:left-0 md:right-0 md:m-auto rounded-full bg-primary p-[16px] text-[24px] text-main;
    content: "";
    width: fit-content;
  }
}

.timelineBox {
  @apply relative bg-foreground/4 p-[16px] md:p-[24px] rounded-md;
  width: calc(100% - 48px);
  p {
    margin-bottom: 0px;
  }
  @media (max-width: 767px) {
    &::before {
      @apply absolute w-0 h-0;
      content: "";
      top: 32px;
      left: -10px;
      border-top: 10px solid transparent;
      border-bottom: 10px solid transparent;
      border-right: 10px solid
        color-mix(
          in oklab,
          var(--color-foreground) /* hsl(var(--foreground)) */ 4%,
          transparent
        );
    }
  }
}

@media (min-width: 768px) {
  .timelineContainer li {
    .timeline-icon {
      top: calc(50% - 30px);
    }
  }
  .timelineContainer li:nth-child(odd) {
    justify-content: flex-end;
  }
  .timelineContainer li:nth-child(even) {
    justify-content: flex-start;
  }
  .timelineContainer li:nth-child(odd) .timelineBox,
  .timelineContainer li:nth-child(even) .timelineBox {
    @apply relative;
    width: 45%;
  }
  .timelineContainer li:nth-child(odd) .timelineBox {
    &::before {
      @apply absolute w-0 h-0;
      content: "";
      top: calc(50% - 10px);
      left: -10px;
      border-top: 10px solid transparent;
      border-bottom: 10px solid transparent;
      border-right: 10px solid
        color-mix(
          in oklab,
          var(--color-foreground) /* hsl(var(--foreground)) */ 4%,
          transparent
        );
      border-left: 0px;
    }
  }
  .timelineContainer li:nth-child(even) .timelineBox {
    &::before {
      @apply absolute w-0 h-0;
      content: "";
      top: calc(50% - 10px);
      right: -10px;
      border-top: 10px solid transparent;
      border-bottom: 10px solid transparent;
      border-left: 10px solid
        color-mix(
          in oklab,
          var(--color-foreground) /* hsl(var(--foreground)) */ 4%,
          transparent
        );
      border-right: 0px;
    }
  }
}
